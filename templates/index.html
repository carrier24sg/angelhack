<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="../main/static/css/bootstrap.min.css">
  <link rel="stylesheet" href="../main/static/css/jquery-ui.min.css">
  <link rel="stylesheet" href="../main/static/css/utility.css">
  <script src="../main/static/js/jquery.js"></script>
  <script src="../main/static/js/jquery-ui.min.js"></script>
  <script src="../main/static/js/underscore.js"></script>
  <script src="../main/static/js/backbone.js"></script>  
  <script src="../main/static/js/helper.js"></script>
</head>
<body>
  <div class="container" id="wrapper">
    
    <h2>Task Description</h2>
    <p>
      Create a gamification module 
    </p>

    <h2>Position</h2>
    <p>Front-End Engineer</h2>

    <div class="row" id="developersContainer"></div> 
    <div class="row center">
      <button class="btn btn-primary" id="award">Award Points</button>
    </div>
 
   <div id="payDialog" title="Select the winner!">
    <p> 80% of the prize will be awarded to the winner, with the rest split evenly.
    </p>
  </div>   

   <div id="hireDialog" title="Full-time employment">
    <p> Do you would want to hire Barret full-time as a Front-End Engineer?
    </p>
  </div>   

  </div>

  <script type="text/template" id="developer-template">
    <h2><%= capitalizeWords(model.name) %></h2>
    <img src= <%= model.src %> />
    <p> Score: <%= model.scoreGivenByCompany %></p>
    <ul class="comments"></ul>
  </script>
  
  <script type="text/template" id="comment-template">
    <p> <%= capitalizeWords(app.companyRepresentativesList[model.givenBy]) %> 
    <%= model.points > 0 ? "gave" : "took away" %> 
    <%= Math.abs(model.points) %> 
    <%= model.points > 1 ? "points" : "point" %> 
    for <%= model.category %> </p>
    <p> <%= model.text %>
  </script>  

  <script src="../main/static/js/data.js"></script>
  <script src="../main/static/js/initialize.js"></script>
  <script src="../main/static/js/dialog.js"></script>
  <script src="../main/static/js/models/developer.js"></script>
  <script src="../main/static/js/models/comment.js"></script>
  <script src="../main/static/js/collections/developers.js"></script>
  <script src="../main/static/js/collections/comments.js"></script>
  <script src="../main/static/js/views/app.js"></script>
  <script src="../main/static/js/views/developers.js"></script>
  <script src="../main/static/js/views/comments.js"></script>

  <script>
    $(function() {
      new app.MainView();
      app.comments = new app.Comments(commentsData);
      app.developers = new app.Developers(developersData);
      
      console.log(app.developers)
      new app.DevelopersView({collection: app.developers});
      
      $('#award').click( function( event ) {
        $('#payDialog').dialog("open");
      });

    })
  </script>
</body>
</html>