<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <script src="js/jquery.js"></script>
  <script src="js/underscore.js"></script>
  <script src="js/backbone.js"></script>  
</head>
<body>
  <div class="container" id="wrapper">
    <div class="row" id="developersContainer"></div> 
  </div>

  <script type="text/template" id="developer-template">
    <h2><%= model.name %></h2>
    <p> Score: <%= model.scoreGivenByCompany %></p>
    <ul class="comments"></ul>
  </script>
  
  <script type="text/template" id="comment-template">
    <p> <%= model.givenBy %> 
    <%= model.points > 0 ? "gave" : "took away" %> 
    <%= Math.abs(model.points) %> 
    <%= model.points > 1 ? "points" : "point" %> 
    for <%= model.category %> </p>
    <p> <%= model.text %>
  </script>

  
  <script src="js/models/developer.js"></script>
  <script src="js/models/comment.js"></script>
  <script src="js/collections/developers.js"></script>
  <script src="js/collections/comments.js"></script>
  <script src="js/views/app.js"></script>
  <script src="js/views/developers.js"></script>
  <script src="js/views/comments.js"></script>

  <script>
    $(function() {
      
      app.developers = new app.Developers();
      var candidate1 = new app.Developer({
        name: 'barret',
        id: 1,
        scoreGivenByCompany: 4,
        //based on github profile
        level: 6
      }); //end candidate1

      var candidate2 = new app.Developer({
        name: 'cloud',
        id: 2,
        scoreGivenByCompany: -2,
        //based on github profile
        level: 2,
      });      

      var commentsData = [
        {
          givenBy: "elmo",
          //id for givenTo is based off developer id
          givenTo: 1,
          points: 2,
          category: 'coding',
          text: 'Amazing code on the commit'
        },
        {
          givenBy: "birdy",
          //id for givenTo is based off developer id
          givenTo: 1,
          points: 3,
          category: 'attitude',
          text: 'Amazing attitude from this guy'
        },
        {
          givenBy: "cookiemonster",
          //id for givenTo is based off developer id
          givenTo: 1,
          points: -1,
          category: 'communication',
          text: 'Dude has an english problem'
        },
        {
          givenBy: "elmo",
          //id for givenTo is based off developer id
          givenTo: 2,
          points: -3,
          category: 'coding',
          text: 'This guy needs to read more about coding; horrible coding'
        },
        {
          givenBy: "birdy",
          //id for givenTo is based off developer id
          givenTo: 2,
          points: -2,
          category: 'attitude',
          text: 'Dont like the attitude of this guy'
        },
        {
          givenBy: "cookiemonster",
          //id for givenTo is based off developer id
          givenTo: 2,
          points: 1,
          category: 'communication',
          text: 'Dude is good at speaking english'
        }        
      ]

      app.comments = new app.Comments(commentsData);

      new app.MainView();
     // ;
     // new app.CommentsView({collection: app.comments, id: 'candidate2', givenTo: 'cloud'});
    

      app.developers.add([candidate1, candidate2])
      new app.DevelopersView({collection: app.developers});
      
    })
  </script>
</body>
</html>